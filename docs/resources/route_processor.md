---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "mezmo_route_processor Resource - terraform-provider-mezmo"
subcategory: ""
description: |-
  Route data based on whether or not it matches logical comparisons.
---

# mezmo_route_processor (Resource)

Route data based on whether or not it matches logical comparisons.

## Example Usage

```terraform
terraform {
  required_providers {
    mezmo = {
      source = "registry.terraform.io/mezmo/mezmo"
    }
  }
  required_version = ">= 1.1.0"
}

variable "my_ingestion_key" {
  type = string
}

provider "mezmo" {
  auth_key = "my secret"
}

resource "mezmo_pipeline" "pipeline1" {
  title = "My pipeline"
}

resource "mezmo_demo_source" "source1" {
  pipeline_id = mezmo_pipeline.pipeline1.id
  title       = "Apache demo logs"
  format      = "apache_common"
}


resource "mezmo_route_processor" "processor1" {
  pipeline_id = mezmo_pipeline.pipeline1.id
  title       = "Log router"
  description = "This processor routes logs"
  inputs      = [mezmo_demo_source.source1.id]
  conditionals = [
    {
      expressions_group = [
        {
          expressions = [
            {
              field        = ".label"
              operator     = "equal"
              value_string = "account"
            },
            {
              field        = ".app_name"
              operator     = "ends_with"
              value_string = "service"
            },
          ]
        },
        {
          expressions_group = [
            {
              expressions = [
                {
                  field        = ".level"
                  operator     = "greater_or_equal"
                  value_number = 300
                },
                {
                  field        = ".tag"
                  operator     = "contains"
                  value_string = "error"
                }
              ]
              logical_operation = "OR"
            }
          ]
        }
      ]
      label = "error logs"
    },
    {
      expressions = [
        {
          field        = ".status"
          operator     = "equal"
          value_number = 503
        }
      ]
      label = "503 logs"
    }
  ]
}

resource "mezmo_logs_destination" "destination1" {
  pipeline_id   = mezmo_pipeline.pipeline1.id
  title         = "Error log destination"
  description   = "Send logs to Mezmo Log Analysis"
  inputs        = [mezmo_route_processor.processor1.conditionals.0.output_name]
  ingestion_key = var.my_ingestion_key
}

resource "mezmo_blackhole_destination" "destination2" {
  pipeline_id = mezmo_pipeline.pipeline1.id
  title       = "503 logs destination"
  description = "Trash the data without acking"
  ack_enabled = false
  inputs      = [mezmo_route_processor.processor1.conditionals.1.output_name]
}

resource "mezmo_blackhole_destination" "destination3" {
  pipeline_id = mezmo_pipeline.pipeline1.id
  title       = "Unmatched dest"
  description = "Send unmatched data to blackhole"
  ack_enabled = false
  inputs      = [mezmo_route_processor.processor1.unmatched]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `conditionals` (Attributes List) A list of conditions, each of which has a label and an expression or expression groups. (see [below for nested schema](#nestedatt--conditionals))
- `pipeline_id` (String) The uuid of the pipeline

### Optional

- `description` (String) A user-defined value describing the processor
- `inputs` (List of String) The ids of the input components
- `title` (String) A user-defined title for the processor

### Read-Only

- `generation_id` (Number) An internal field used for component versioning
- `id` (String) The uuid of the processor
- `unmatched` (String) A system generated value to identify the results that don't match any condition.

<a id="nestedatt--conditionals"></a>
### Nested Schema for `conditionals`

Required:

- `label` (String) A label for the expression group

Optional:

- `expressions` (Attributes List) Defines a list of expressions for field comparisons (see [below for nested schema](#nestedatt--conditionals--expressions))
- `expressions_group` (Attributes List) A group of expressions joined by a logical operator (see [below for nested schema](#nestedatt--conditionals--expressions_group))
- `logical_operation` (String) The logical operation (AND/OR) to be applied to the list of conditionals

Read-Only:

- `output_name` (String) A system generated value to identify the results of this expression. This value should be used when connecting the results to another processor or destination.

<a id="nestedatt--conditionals--expressions"></a>
### Nested Schema for `conditionals.expressions`

Required:

- `field` (String) The field path whose value will be used in the comparison
- `operator` (String) The comparison operator. Possible values are: contains, ends_with, equal, exists, greater, greater_or_equal, is_array, is_boolean, is_empty, is_ip_in_cidr_range, is_metric, is_null, is_number, is_object, is_string, less, less_or_equal, not_contains, not_equal, not_exists, not_regex_match, regex_match or starts_with.

Optional:

- `value_number` (Number) The operand to compare the field value with, when the value is a number
- `value_string` (String) The operand to compare the field value with, when the value is a string


<a id="nestedatt--conditionals--expressions_group"></a>
### Nested Schema for `conditionals.expressions_group`

Optional:

- `expressions` (Attributes List) Defines a list of expressions for field comparisons (see [below for nested schema](#nestedatt--conditionals--expressions_group--expressions))
- `expressions_group` (Attributes List) A group of expressions joined by a logical operator (see [below for nested schema](#nestedatt--conditionals--expressions_group--expressions_group))
- `logical_operation` (String) The logical operation (AND/OR) to be applied to the list of conditionals

<a id="nestedatt--conditionals--expressions_group--expressions"></a>
### Nested Schema for `conditionals.expressions_group.expressions`

Required:

- `field` (String) The field path whose value will be used in the comparison
- `operator` (String) The comparison operator. Possible values are: contains, ends_with, equal, exists, greater, greater_or_equal, is_array, is_boolean, is_empty, is_ip_in_cidr_range, is_metric, is_null, is_number, is_object, is_string, less, less_or_equal, not_contains, not_equal, not_exists, not_regex_match, regex_match or starts_with.

Optional:

- `value_number` (Number) The operand to compare the field value with, when the value is a number
- `value_string` (String) The operand to compare the field value with, when the value is a string


<a id="nestedatt--conditionals--expressions_group--expressions_group"></a>
### Nested Schema for `conditionals.expressions_group.expressions_group`

Optional:

- `expressions` (Attributes List) Defines a list of expressions for field comparisons (see [below for nested schema](#nestedatt--conditionals--expressions_group--expressions_group--expressions))
- `expressions_group` (Attributes List) A group of expressions joined by a logical operator (see [below for nested schema](#nestedatt--conditionals--expressions_group--expressions_group--expressions_group))
- `logical_operation` (String) The logical operation (AND/OR) to be applied to the list of conditionals

<a id="nestedatt--conditionals--expressions_group--expressions_group--expressions"></a>
### Nested Schema for `conditionals.expressions_group.expressions_group.expressions`

Required:

- `field` (String) The field path whose value will be used in the comparison
- `operator` (String) The comparison operator. Possible values are: contains, ends_with, equal, exists, greater, greater_or_equal, is_array, is_boolean, is_empty, is_ip_in_cidr_range, is_metric, is_null, is_number, is_object, is_string, less, less_or_equal, not_contains, not_equal, not_exists, not_regex_match, regex_match or starts_with.

Optional:

- `value_number` (Number) The operand to compare the field value with, when the value is a number
- `value_string` (String) The operand to compare the field value with, when the value is a string


<a id="nestedatt--conditionals--expressions_group--expressions_group--expressions_group"></a>
### Nested Schema for `conditionals.expressions_group.expressions_group.expressions_group`

Optional:

- `expressions` (Attributes List) Defines a list of expressions for field comparisons (see [below for nested schema](#nestedatt--conditionals--expressions_group--expressions_group--expressions_group--expressions))
- `expressions_group` (Attributes List) A group of expressions joined by a logical operator (see [below for nested schema](#nestedatt--conditionals--expressions_group--expressions_group--expressions_group--expressions_group))
- `logical_operation` (String) The logical operation (AND/OR) to be applied to the list of conditionals

<a id="nestedatt--conditionals--expressions_group--expressions_group--expressions_group--expressions"></a>
### Nested Schema for `conditionals.expressions_group.expressions_group.expressions_group.expressions`

Required:

- `field` (String) The field path whose value will be used in the comparison
- `operator` (String) The comparison operator. Possible values are: contains, ends_with, equal, exists, greater, greater_or_equal, is_array, is_boolean, is_empty, is_ip_in_cidr_range, is_metric, is_null, is_number, is_object, is_string, less, less_or_equal, not_contains, not_equal, not_exists, not_regex_match, regex_match or starts_with.

Optional:

- `value_number` (Number) The operand to compare the field value with, when the value is a number
- `value_string` (String) The operand to compare the field value with, when the value is a string


<a id="nestedatt--conditionals--expressions_group--expressions_group--expressions_group--expressions_group"></a>
### Nested Schema for `conditionals.expressions_group.expressions_group.expressions_group.expressions_group`

Optional:

- `expressions` (Attributes List) Defines a list of expressions for field comparisons (see [below for nested schema](#nestedatt--conditionals--expressions_group--expressions_group--expressions_group--expressions_group--expressions))
- `expressions_group` (Attributes List) A group of expressions joined by a logical operator (see [below for nested schema](#nestedatt--conditionals--expressions_group--expressions_group--expressions_group--expressions_group--expressions_group))
- `logical_operation` (String) The logical operation (AND/OR) to be applied to the list of conditionals

<a id="nestedatt--conditionals--expressions_group--expressions_group--expressions_group--expressions_group--expressions"></a>
### Nested Schema for `conditionals.expressions_group.expressions_group.expressions_group.expressions_group.expressions`

Required:

- `field` (String) The field path whose value will be used in the comparison
- `operator` (String) The comparison operator. Possible values are: contains, ends_with, equal, exists, greater, greater_or_equal, is_array, is_boolean, is_empty, is_ip_in_cidr_range, is_metric, is_null, is_number, is_object, is_string, less, less_or_equal, not_contains, not_equal, not_exists, not_regex_match, regex_match or starts_with.

Optional:

- `value_number` (Number) The operand to compare the field value with, when the value is a number
- `value_string` (String) The operand to compare the field value with, when the value is a string


<a id="nestedatt--conditionals--expressions_group--expressions_group--expressions_group--expressions_group--expressions_group"></a>
### Nested Schema for `conditionals.expressions_group.expressions_group.expressions_group.expressions_group.expressions_group`

Optional:

- `expressions` (Attributes List) Defines a list of expressions for field comparisons (see [below for nested schema](#nestedatt--conditionals--expressions_group--expressions_group--expressions_group--expressions_group--expressions_group--expressions))
- `expressions_group` (Attributes List) A group of expressions joined by a logical operator (see [below for nested schema](#nestedatt--conditionals--expressions_group--expressions_group--expressions_group--expressions_group--expressions_group--expressions_group))
- `logical_operation` (String) The logical operation (AND/OR) to be applied to the list of conditionals

<a id="nestedatt--conditionals--expressions_group--expressions_group--expressions_group--expressions_group--expressions_group--expressions"></a>
### Nested Schema for `conditionals.expressions_group.expressions_group.expressions_group.expressions_group.expressions_group.expressions`

Required:

- `field` (String) The field path whose value will be used in the comparison
- `operator` (String) The comparison operator. Possible values are: contains, ends_with, equal, exists, greater, greater_or_equal, is_array, is_boolean, is_empty, is_ip_in_cidr_range, is_metric, is_null, is_number, is_object, is_string, less, less_or_equal, not_contains, not_equal, not_exists, not_regex_match, regex_match or starts_with.

Optional:

- `value_number` (Number) The operand to compare the field value with, when the value is a number
- `value_string` (String) The operand to compare the field value with, when the value is a string


<a id="nestedatt--conditionals--expressions_group--expressions_group--expressions_group--expressions_group--expressions_group--expressions_group"></a>
### Nested Schema for `conditionals.expressions_group.expressions_group.expressions_group.expressions_group.expressions_group.expressions_group`

Optional:

- `expressions` (Attributes List) Defines a list of expressions for field comparisons (see [below for nested schema](#nestedatt--conditionals--expressions_group--expressions_group--expressions_group--expressions_group--expressions_group--expressions_group--expressions))
- `logical_operation` (String) The logical operation (AND/OR) to be applied to the list of conditionals

<a id="nestedatt--conditionals--expressions_group--expressions_group--expressions_group--expressions_group--expressions_group--expressions_group--expressions"></a>
### Nested Schema for `conditionals.expressions_group.expressions_group.expressions_group.expressions_group.expressions_group.expressions_group.expressions`

Required:

- `field` (String) The field path whose value will be used in the comparison
- `operator` (String) The comparison operator. Possible values are: contains, ends_with, equal, exists, greater, greater_or_equal, is_array, is_boolean, is_empty, is_ip_in_cidr_range, is_metric, is_null, is_number, is_object, is_string, less, less_or_equal, not_contains, not_equal, not_exists, not_regex_match, regex_match or starts_with.

Optional:

- `value_number` (Number) The operand to compare the field value with, when the value is a number
- `value_string` (String) The operand to compare the field value with, when the value is a string
